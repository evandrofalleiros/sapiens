/**
 * A comment describing this element...
 * @group my-element-set
 * @element sapiens-circle-chart
 * @demo demo/index.html
 */
<dom-module id="sapiens-circle-chart">
	<script src="../../bower_components/jquery/dist/jquery.min.js"></script>
	<script src="https://code.highcharts.com/highcharts.js"></script>
  	<script src="https://code.highcharts.com/highcharts-more.js"></script>
	<script src="https://code.highcharts.com/modules/solid-gauge.js"></script>

	<template>
		<style>
			:host {
				display: block;
			}
		</style>


		<div id="chartContainer" style="width: 300px; height: 300px; margin: 0 auto">
      		<div id="chart" style="width: 300px; height: 300px; float: left"></div>
    	</div>
		
	</template>
	<script>
		Polymer({
			is: 'sapiens-circle-chart',

			properties: {
				max: {
					type: Number
				},
				
				value: {
					type: Number
				}
			},

			ready: function () {			   
				new Highcharts.Chart({
				    chart : {
				      renderTo : this.$.chartContainer,
				      'type': 'solidgauge',
				      backgroundColor: 'rgba(0,0,0,0)'
				    },
				    
				    'title': null,

			        'tooltip': {
			            'enabled': false
			        },

			        credits: {
				    	enabled: false
				  	},
			        
			        'pane': {
			          'center': ['50%', '50%'],
			          'size': '200px',
			          'startAngle': 0,
			          'endAngle': 360,
			          'background': {
			            'backgroundColor': '#EEEEEE',
			            'innerRadius': '90%',
			            'outerRadius': '100%',
			            'borderWidth': 0
			          }
			        },

			        'yAxis': {
			          'min': 0,
			          'max': 100,
			          'labels': {
			            'enabled': false
			          },
			    
			          'lineWidth': 0,
			          'minorTickInterval': null,
			          'tickPixelInterval': 400,
			          'tickWidth': 0
			        },

			        'plotOptions': {
			            'solidgauge': {
			                'innerRadius': '90%',
			                dataLabels: {
			                    y: -30,
			                    borderWidth: 0,
			                    useHTML: true
			                }
			            }
			        },
			        
			        'series': [{
			            'name': 'Speed',
			            'data': [(this.value * 100) / this.max],
			            'dataLabels': {
			                // 'enabled': false
			                format: '<div style="text-align:center;"><span style="font-family: Roboto;font-size:32px;">' + this.value + '</span><br/>' +
                       '<span style="font-size:12px;color:silver">horas</span></div>'
			            }
			        }]				    
				});				
			}
		});
	</script>

</dom-module>