<link rel="import" href="sapiens-turmas-data.html">
<link rel="import" href="sapiens-lista-cursos.html">
<link rel="import" href="sapiens-distribuicao-input.html">
<link rel="import" href="sapiens-curso.html">
<link rel="import" href="sapiens-turma.html">

<dom-module id="sapiens-turmas">
  <template>
    <style>
      neon-animated-pages{
        @apply(--layout-flex);        
      }
    </style>

    <sapiens-turmas-data
      cursos="{{cursos}}"
      curso="{{curso}}"
      matriz="{{matriz}}"
      turma="{{turma}}"
      turmas="{{turmas}}"
      docentes="{{docentes}}">
    </sapiens-turmas-data>
      
    <neon-animated-pages 
      id="paginas" 
      selected="{{selecionada}}" 
      entry-animation="[[entryAnimation]]" 
      exit-animation="[[exitAnimation]]">

      <neon-animatable>
        <!-- Seleção do curso desejado -->
        <sapiens-lista-cursos 
          cursos="{{cursos}}" 
          matriz="{{matriz}}" 
          curso="{{curso}}">
        </sapiens-lista-cursos>
      </neon-animatable>

      <neon-animatable>
        <!-- Mostrar as turmas do curso desejado -->
        <sapiens-curso
          turmas="{{turmas}}" 
          curso="{{curso}}"
          turma="{{turma}}"
          matriz="{{matriz}}">
        </sapiens-curso>
      </neon-animatable>

      <neon-animatable>
        <!--  Mostrar turma selecionada -->
        <sapiens-turma 
          turma="{{turma}}"
          matriz="{{matriz}}"
          curso="{{curso}}"
          docentes="{{docentes}}">
        </sapiens-turma>
      </neon-animatable>

    </neon-animated-pages>   

  </template>
  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'sapiens-turmas',

      properties: {
        selecionada: {
          type: Number,
          value: 0
        }
      },

      backAction: function() {
        var _this = document.querySelector('sapiens-turmas');

        _this.entryAnimation = 'slide-from-left-animation';
        _this.exitAnimation = 'slide-right-animation';

        _this.set('selecionada', parseInt(_this.selecionada - 1));

        if (_this.selecionada == 0){
          app.visiting = false;
        }
      },

      proximo: function() {
        this.entryAnimation = 'slide-from-right-animation';
        this.exitAnimation = 'slide-left-animation';
        this.selecionada = parseInt(this.selecionada + 1);
      }

    });
  })();
  </script>
</dom-module>
